import{a as s,c as n,D as d}from"./index-2bb53649.js";import{d as f,n as _,H as b,c as y,w as i,u as o,V as g,o as k,a as c,b as h,e as u,t as m}from"./index-52a3dc58.js";const D=f({__name:"CreateView",setup(w){const t=_({category:0,number:0,description:"",name:""}),l={fields:[{label:"Kontoklasse",name:"category",as:"input",type:"number",rules:s().required()},{label:"Kontonummer",name:"number",as:"input",type:"number",rules:s().required()},{label:"Kontobeschreibung",name:"description",as:"textarea",rows:4,cols:50,type:"text",rules:n().required()},{label:"Kontoname",name:"name",type:"text",as:"input",rules:n().required()}]},a=b();if(a.getIkr){const{ikr:e}=a.getIkr;t.value=e}async function p(e){try{"_id"in e?await u.post(`/api/ikr/${e._id}`,e,{withCredentials:!0}):await u.post("/api/ikr/",e,{withCredentials:!0}),m("_id"in e?"Eintrag bearbeitet":"Eintrag hinzugefÃ¼gt",{type:"success"})}catch(r){m(r.response.data.message,{type:"error"})}}return(e,r)=>(k(),y(o(g),{dense:""},{default:i(()=>[c(o(h),{cols:"12"},{default:i(()=>[c(d,{schema:l,initialFormData:t.value,onUpdate:p},null,8,["initialFormData"])]),_:1})]),_:1}))}});export{D as default};
