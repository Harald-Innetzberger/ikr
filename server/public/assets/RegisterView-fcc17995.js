import{d as p,r as d,c as o,w as r,u as a,V as f,o as n,a as i,m as _,b as x,t as w,e as y,f as V,g,h}from"./index-dc542bce.js";import{c as t,V as b,D as v}from"./index-dd44d543.js";const R=p({__name:"RegisterView",setup(B){const l=g(),e=d(""),u={fields:[{label:"Name",name:"name",as:"input",type:"text",rules:t().min(5).max(30)},{label:"E-Mail",name:"email",as:"input",type:"text",rules:t().email().min(5).required()},{label:"Passwort",name:"password",as:"input",type:"password",rules:t().required()},{label:"Benutzerrolle",name:"role",as:"select",options:[{text:"Benutzer",value:"user"},{text:"Administrator",value:"admin"}],rules:t().required()}]};async function c(s){try{await h.post("/api/user/register",s),e.value="Account registriert ...",l.push("/")}catch{e.value="E-Mail und/oder Passwort falsch."}}return(s,m)=>(n(),o(a(f),{dense:""},{default:r(()=>[i(a(V),{cols:"12"},{default:r(()=>[e.value?(n(),o(a(b),{key:0,type:"info",icon:a(_)},{default:r(()=>[x(w(e.value),1)]),_:1},8,["icon"])):y("",!0),i(v,{schema:u,buttonLabel:"Registrieren",onUpdate:c})]),_:1})]),_:1}))}});export{R as default};
